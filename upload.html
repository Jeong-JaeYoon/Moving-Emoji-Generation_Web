<!DOCTYPE html>
<html>
    <head>
        <title>TOBIGS - EmoGE'T</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="assets/css/main.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    </head>

    <body>
        <!-- Header -->
        <header id="header" class="alt">
            <div class="inner">
                <h1>EmoGE'T</h1>
                <p>- Tobig's 11th Conference -<br />Emoji Generation by Tobigs</p>
            </div>
        </header>

        <form
            id="upload-form"
            action="{{ url_for('upload') }}"
            method="POST"
            enctype="multipart/form-data"
        >
            <strong>Files:</strong><br />
            <input id="file-picker" type="file" name="file" accept="image/*" multiple />
            <div id="msg"></div>
            <select name="style">
                <option value="animation">animation</option>
                <option value="baby">baby</option>
                <option value="painting">painting</option>
            </select>
            <select name="emotion">
                <option value="happy">happy</option>
                <option value="sad">sad</option>
                <option value="disgusted">disgusted</option>
            </select>
            <select name="type">
                <option value="gif">gif</option>
                <option value="mp4">mp4</option>
            </select>
            <select name="model">
                <option value="sol1">sol1</option>
                <option value="sol2">sol2</option>
            </select>

            <input type="number" min="0" max="10" step="0.1" value="0.1" />
            <input type="submit" value="Upload!" id="upload-button" />
        </form>
    </body>

    <script>
        $('#file-picker').change(function () {
            var input = document.getElementById('file-picker');

            for (var i = 0; i < input.files.length; i++) {
                //koala.jpg, koala.JPG substring(index) lastIndexOf('a') koala.1.jpg
                var ext = input.files[i].name
                    .substring(input.files[i].name.lastIndexOf('.') + 1)
                    .toLowerCase();

                if (ext == 'jpg' || ext == 'png' || ext == 'jpeg') {
                    $('#msg').text('Files are supported');
                } else {
                    $('#msg').text('Files are NOT supported');
                    document.getElementById('file-picker').value = '';
                }
            }
        });
    </script>
</html>